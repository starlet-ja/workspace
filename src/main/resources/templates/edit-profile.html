<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout/base}">

<head>
  <link rel="stylesheet" th:href="@{/style/sub-common.css}" />
</head>

<body>

  <div id="total-area">
    <!-- ON/OFFの切替エリアを挿入 -->
    <div th:insert="~{components/body :: switch-area}"></div>
  </div>

  <div id="card-folder">
    <div class="card">
      <!-- バツボタン -->
      <button class="close-button" onclick="goBack()">×</button>

      <h2>プロフィール編集</h2>

      <form method="post" action="/edit-profile">
        <!-- メールアドレスは hidden で送信 -->
        <input type="hidden" name="email" th:value="${userEmail}" />

        <p>ユーザー名:</p>
        <input type="text" name="userName" th:value="${userName}" required />

        <p>性別:</p>
        <label>
          <input type="radio" name="userGender" value="男性" th:checked="${userGender == '男性'}" /> 男性
        </label><br />
        <label>
          <input type="radio" name="userGender" value="女性" th:checked="${userGender == '女性'}" /> 女性
        </label><br />
        <label>
          <input type="radio" name="userGender" value="未選択" th:checked="${userGender == '未選択'}" /> 未選択
        </label><br />

        <p>プロフィール:</p>
        <textarea name="userProfile" rows="5" th:text="${userProfile}"></textarea>

        <button type="submit" class="btn">更新する</button>
      </form>

      <!-- メッセージ表示 -->
      <p th:if="${message}" th:text="${message}" class="success-message"></p>
    </div>
  </div>

  <script th:src="@{/js/common.js}"></script>

</body>
</html>
